(this["webpackJsonpbits-and-bytes"]=this["webpackJsonpbits-and-bytes"]||[]).push([[0],{116:function(e,t,r){"use strict";r.r(t);var a=r(11),n=r.n(a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,i,s=r(14),o=r(156),l=r(155),j=r(150),u=r(152),b=r(153),h=r(154),d=r(159),O=r(87),g=r(149),x=r(82),f=r(161),p=r(78),m=r.n(p),v=r(0),E=r(12),S=r(15),k=r.n(S),w=r(21),C=r(157),y=r(148),B=r(160),F=r(4),z=function(e,t){switch(t.tag){case"setOwner":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{owner:t.owner})});case"setRepo":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{repo:t.repo})});case"setBranch":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{branch:t.branch})});case"setPath":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{path:t.path})});case"setCommitSha":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{commitSha:t.commitSha})});case"setTreeSha":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{treeSha:t.treeSha})});case"setFileSha":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{fileSha:t.fileSha})});case"setFetchError":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{fetchError:t.fetchError,loading:!1})});case"setGetBranchError":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{getBranchError:t.getBranchError,loading:!1})});case"setCommitMessage":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{commitMessage:t.commitMessage})});case"setGetCommitError":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{getCommitError:t.getCommitError,loading:!1})});case"setGetTreeError":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{getTreeError:t.getTreeError,loading:!1})});case"setFindFileError":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{findFileError:t.findFileError,loading:!1})});case"setFileSize":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{fileSize:t.fileSize})});case"startLoading":return Object(F.a)(Object(F.a)({},e),{},{save:Object(F.a)(Object(F.a)({},e.save),{},{commitSha:void 0,treeSha:void 0,fileSha:void 0}),extra:Object(F.a)(Object(F.a)({},e.extra),{},{loading:!0,fetchError:void 0,getBranchError:void 0,commitMessage:void 0,getCommitError:void 0,getTreeError:void 0,findFileError:void 0,fileSize:void 0})});case"stopLoading":return Object(F.a)(Object(F.a)({},e),{},{extra:Object(F.a)(Object(F.a)({},e.extra),{},{loading:!1})})}},T=r(77),R=r.n(T),M=r(2),G=function(e){var t=e.label,r=e.value,a=e.onChangeValue;return Object(M.jsx)(C.a,{label:t,value:r||"",onChange:function(e){a(e.target.value)},variant:"outlined"})},P=function(){var e=Object(w.a)(k.a.mark((function e(t,r,a,n,c,i){var s,o,l,j,u,b;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({tag:"startLoading"}),e.next=3,t.rest.repos.getBranch({owner:r,repo:a,branch:n}).catch((function(e){i({tag:"setFetchError",fetchError:e.toString()}),i({tag:"setGetBranchError",getBranchError:!0})}));case 3:if(s=e.sent){e.next=7;break}return i({tag:"setGetBranchError",getBranchError:!0}),e.abrupt("return");case 7:return o=s.data.commit.sha,i({tag:"setCommitSha",commitSha:o}),e.next=11,t.rest.repos.getCommit({owner:r,repo:a,ref:o}).catch((function(e){i({tag:"setFetchError",fetchError:e.toString()}),i({tag:"setGetCommitError",getCommitError:!0})}));case 11:if(l=e.sent){e.next=15;break}return i({tag:"setGetCommitError",getCommitError:!0}),e.abrupt("return");case 15:return i({tag:"setCommitMessage",commitMessage:l.data.commit.message}),j=l.data.commit.tree.sha,i({tag:"setTreeSha",treeSha:j}),e.next=20,t.rest.git.getTree({owner:r,repo:a,tree_sha:j}).catch((function(e){i({tag:"setFetchError",fetchError:e.toString()}),i({tag:"setGetTreeError",getTreeError:!0})}));case 20:if(u=e.sent){e.next=24;break}return i({tag:"setGetTreeError",getTreeError:!0}),e.abrupt("return");case 24:if(b=u.data.tree.find((function(e){return e.path===c}))){e.next=28;break}return i({tag:"setFindFileError",findFileError:!0}),e.abrupt("return");case 28:i({tag:"setFileSha",fileSha:b.sha}),i({tag:"setFileSize",fileSize:b.size}),i({tag:"stopLoading"});case 31:case"end":return e.stop()}}),e)})));return function(t,r,a,n,c,i){return e.apply(this,arguments)}}(),A=function(e){var t,r=e.dataSource,a=e.dispatch,n=e.octokit,c=r.save,i=c.owner,o=c.repo,l=c.branch,u=c.path,b=c.commitSha,h=c.treeSha,O=c.fileSha,x=r.extra,f=x.commitMessage,p=x.fileSize,m=x.loading,E=Object(v.useState)(null),S=Object(s.a)(E,2),k=S[0],w=S[1],C=Boolean(k),F=C?"data-source-info":void 0,z=(t=r).extra.fetchError?"Fetch error: ".concat(t.extra.fetchError):t.extra.getBranchError?"Branch not found":t.extra.getCommitError?"Commit not found":t.extra.getTreeError?"Tree not found":void 0,T=Boolean(z),A=Boolean(z)||Boolean(b)||Boolean(f)||Boolean(h)||Boolean(O)||Boolean(p),L=Boolean(p),D=m?"disabled":T?"error":L?"primary":"inherit",I=m?Object(M.jsx)(y.a,{}):null;return Object(M.jsx)("div",{children:Object(M.jsx)("form",{children:Object(M.jsxs)(d.a,{display:"flex",children:[Object(M.jsx)(d.a,{paddingRight:1,children:Object(M.jsx)(G,{label:"Owner",value:i,onChangeValue:function(e){return a({tag:"setOwner",owner:e})}})}),Object(M.jsx)(d.a,{paddingRight:1,children:Object(M.jsx)(G,{label:"Repo",value:o,onChangeValue:function(e){return a({tag:"setRepo",repo:e})}})}),Object(M.jsx)(d.a,{paddingRight:1,children:Object(M.jsx)(G,{label:"Branch",value:l,onChangeValue:function(e){return a({tag:"setBranch",branch:e})}})}),Object(M.jsx)(d.a,{paddingRight:1,children:Object(M.jsx)(G,{label:"Path",value:u,onChangeValue:function(e){return a({tag:"setPath",path:e})}})}),Object(M.jsx)(d.a,{paddingRight:1,children:Object(M.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){i&&o&&l&&u&&!m&&P(n,i,o,l,u,a).catch((function(e){return console.error(e)}))},disabled:m,children:"Load"})}),Object(M.jsxs)("div",{children:[Object(M.jsx)(g.a,{"aria-describedby":F,onClick:function(e){w(e.currentTarget)},disabled:!A,children:Object(M.jsx)(R.a,{color:D})}),Object(M.jsx)(B.a,{id:F,open:C,anchorEl:k,onClose:function(){w(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(M.jsxs)(d.a,{display:"flex",flexDirection:"column",margin:1,children:[z?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Error: ",z]})}):null,b?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Commit: ",b]})}):null,f?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Commit Message: ",f]})}):null,h?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Tree: ",h]})}):null,O?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Blob: ",O]})}):null,p?Object(M.jsx)(d.a,{pr:1,children:Object(M.jsxs)(j.a,{variant:"caption",children:["Size: ",p," bytes"]})}):null]})})]}),I]})})})},L=function(e){return Object(M.jsxs)(d.a,{display:"flex",flexDirection:"column",margin:2,children:[Object(M.jsx)(d.a,{marginBottom:2,children:Object(M.jsx)(j.a,{variant:"h6",children:"Source File"})}),Object(M.jsx)(A,{dataSource:e.settings.file,dispatch:function(t){return e.dispatch({tag:"updateFile",fileAction:t})},octokit:e.settings.octokit})]})},D=r(162),I=r(83),V=function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)(j.a,{children:"Data Sources"}),Object(M.jsx)(g.a,{onClick:function(){var e=function(){var e=new Uint8Array(16);return D.a({},e),e}(),t=new Map;t.set(e,"George");var r=I.a(e);console.log({uuid:e,sources:t,keyString:r})},children:Object(M.jsx)(j.a,{children:"Add"})})]})},W=function(){return Object(M.jsx)(d.a,{margin:2,children:Object(M.jsx)(j.a,{variant:"h3",children:"Bits and Bytes"})})},H=r(86),J=["title","titleId"];function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _(e,t){var r=e.title,a=e.titleId,n=$(e,J);return v.createElement("svg",N({width:"60px",height:"60px",viewBox:"0 0 60 60",ref:t,"aria-labelledby":a},n),r?v.createElement("title",{id:a},r):null,c||(c=v.createElement("defs",null)),i||(i=v.createElement("g",{id:"filled",stroke:"none",strokeWidth:1,fill:"#FFFFFF",fillRule:"evenodd"},v.createElement("g",{id:"Tech_sliced",transform:"translate(-840.000000, 0.000000)"}),v.createElement("g",{id:"Tech",transform:"translate(-838.000000, 7.000000)",strokeLinecap:"round",stroke:"#535353",strokeWidth:2},v.createElement("g",{id:"Browsercode",transform:"translate(840.000000, 0.000000)"},v.createElement("rect",{id:"Rectangle-435",x:0,y:8,width:56,height:38}),v.createElement("rect",{id:"Rectangle-436",fill:"#FFFFFF",x:0,y:0,width:56,height:8}),v.createElement("circle",{id:"Oval-475",cx:4,cy:4,r:1}),v.createElement("circle",{id:"Oval-476",cx:9,cy:4,r:1}),v.createElement("circle",{id:"Oval-477",cx:14,cy:4,r:1}),v.createElement("rect",{id:"Rectangle-459",x:7,y:14,width:8,height:11,rx:2}),v.createElement("rect",{id:"Rectangle-459",x:29.0018986,y:14,width:8,height:11,rx:2}),v.createElement("rect",{id:"Rectangle-459",x:36.0037973,y:29.992017,width:8,height:11,rx:2}),v.createElement("rect",{id:"Rectangle-459",x:7,y:29.992017,width:8,height:11,rx:2}),v.createElement("path",{d:"M21.0018986,14 C22.1054196,14 23,14.9001762 23,15.992017 L23,25.007983",id:"Rectangle-459"}),v.createElement("path",{d:"M28.0037973,29.992017 C29.1073182,29.992017 30.0018986,30.8921932 30.0018986,31.984034 L30.0018986,41",id:"Rectangle-459"}),v.createElement("path",{d:"M21.0018986,29.992017 C22.1054196,29.992017 23,30.8921932 23,31.984034 L23,41",id:"Rectangle-459"}),v.createElement("path",{d:"M43.0037973,14 C44.1073182,14 45.0018986,14.9001762 45.0018986,15.992017 L45.0018986,25.007983",id:"Rectangle-459"}))))))}var U=v.forwardRef(_),q=(r.p,function(){return Object(M.jsx)(H.a,{component:U,viewBox:"0 0 60 60"})}),K=r(151),Q=r(164),X=function(e){switch(e){case"size":return"Size";case"or":return"Or";case"and":return"And";case"list":return"List"}},Y=function(e){var t=e.structureTag,r=e.setStructureTag;return Object(M.jsx)(d.a,{children:Object(M.jsx)(Q.a,{exclusive:!0,value:t,onChange:function(e,t){r(t)},"aria-label":"structure tag",children:["size","or","and","list"].map((function(e){return Object(M.jsx)(K.a,{value:e,"aria-label":X(e),children:Object(M.jsx)(j.a,{children:X(e)})},e)}))})})},Z=function(e){var t,r,a,n=e.readOnly,c=e.size,i=e.setSize,o=Object(v.useState)((function(){return c.toString()})),l=Object(s.a)(o,2),j=l[0],u=l[1],b=Object(v.useState)(!1),h=Object(s.a)(b,2),d=h[0],O=h[1];return n?(t=c.toString(),r=!1,a=void 0):(t=j,r=d,a=d?"Positive integer":void 0),Object(M.jsx)(C.a,{variant:"outlined",label:"Size",value:t,onChange:function(e){var t=e.target.value;u(t);var r,a=/^[1-9][0-9]{0,14}$/.test(r=t)?Number(r):void 0;a?(i(a),O(!1)):O(!0)},error:r,helperText:a,InputProps:{readOnly:n}})},ee=function(e){var t,r,a,n=e.structurePart,c=e.setStructurePart,i=n.tag;switch(n.tag){case"size":t=!1,r=n.size,a=function(e){return c(Object(F.a)(Object(F.a)({},n),{},{size:e}))};break;case"or":t=!0,r=42,a=function(e){};break;case"and":t=!0,r=43,a=function(e){};break;case"list":t=!0,r=44,a=function(e){}}return Object(M.jsx)(d.a,{margin:1,children:Object(M.jsxs)(u.a,{container:!0,alignContent:"flex-start",alignItems:"center",direction:"row",spacing:1,children:[Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(Y,{structureTag:i,setStructureTag:function(e){switch(e){case"size":c({tag:"size",size:r});break;case"or":c({tag:"or",parts:[]});break;case"and":c({tag:"and",parts:[]});break;case"list":c({tag:"list",count:8,item:{tag:"size",size:2}})}}})}),Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(Z,{readOnly:t,size:r,setSize:a})})]})})},te=function(){var e=Object(v.useState)((function(){return{tag:"size",size:8}})),t=Object(s.a)(e,2),r=t[0],a=t[1];return Object(M.jsx)(ee,{depth:0,structurePart:r,setStructurePart:a})};function re(){return Object(M.jsx)(te,{})}function ae(){return Object(M.jsx)(j.a,{children:"Mappings"})}function ne(){return Object(M.jsx)(j.a,{children:"Chains"})}function ce(){return Object(M.jsx)(j.a,{children:"Not Found"})}var ie=function(e){var t=Object(v.useState)(null),r=Object(s.a)(t,2),a=r[0],n=r[1],c=Object(E.f)(),i="";switch(Object(E.g)().pathname){case"/":i="Home";break;case"/data-sources":i="Data Sources";break;case"/structures":i="Structures";break;case"/mappings":i="Mappings";break;case"/chains":i="Chains";break;case"/settings":i="Settings"}var o=function(e){c.push(e),n(null)};return Object(M.jsxs)(u.a,{container:!0,direction:"column",children:[Object(M.jsx)(u.a,{item:!0,children:Object(M.jsx)(b.a,{position:"static",children:Object(M.jsxs)(h.a,{children:[Object(M.jsx)(d.a,{marginRight:1,children:Object(M.jsx)(O.a,{onClick:function(){return o("/")},children:Object(M.jsx)(q,{})})}),Object(M.jsxs)(d.a,{display:"flex",flexGrow:1,children:[Object(M.jsxs)(g.a,{color:"inherit","aria-controls":"nav-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},children:[Object(M.jsx)(j.a,{children:i})," ",Object(M.jsx)(m.a,{})]}),Object(M.jsxs)(x.a,{id:"nav-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)},children:[Object(M.jsx)(f.a,{onClick:function(){return o("/")},children:"Home"}),Object(M.jsx)(f.a,{onClick:function(){return o("/data-sources")},children:"Data Sources"}),Object(M.jsx)(f.a,{onClick:function(){return o("/structures")},children:"Structures"}),Object(M.jsx)(f.a,{onClick:function(){return o("/mappings")},children:"Mappings"}),Object(M.jsx)(f.a,{onClick:function(){return o("/chains")},children:"Chains"}),Object(M.jsx)(f.a,{onClick:function(){return o("/settings")},children:"Settings"})]})]})]})})}),Object(M.jsx)(u.a,{item:!0,children:Object(M.jsxs)(E.c,{children:[Object(M.jsx)(E.a,{exact:!0,path:"/",children:Object(M.jsx)(W,{})}),Object(M.jsx)(E.a,{exact:!0,path:"/data-sources",children:Object(M.jsx)(V,{})}),Object(M.jsx)(E.a,{exact:!0,path:"/structures",children:Object(M.jsx)(re,{})}),Object(M.jsx)(E.a,{exact:!0,path:"/mappings",children:Object(M.jsx)(ae,{})}),Object(M.jsx)(E.a,{exact:!0,path:"/chains",children:Object(M.jsx)(ne,{})}),Object(M.jsx)(E.a,{exact:!0,path:"/settings",children:Object(M.jsx)(L,{settings:e.appState.settings,dispatch:function(t){return e.dispatch({tag:"updateSettings",settingsAction:t})}})}),Object(M.jsx)(E.a,{children:Object(M.jsx)(ce,{})})]})})]})},se=r(62),oe=r(81),le=Object(oe.a)({}),je=r(80),ue=function(e){return new je.a({userAgent:e.userAgent,auth:e.auth})},be=function(e,t){switch(t.tag){case"updateFile":return Object(F.a)(Object(F.a)({},e),{},{file:z(e.file,t.fileAction)});case"setGitHubAuth":var r=Object(F.a)(Object(F.a)({},e.octokitDeps),{},{auth:t.auth});return Object(F.a)(Object(F.a)({},e),{},{octokitDeps:r,octokit:ue(r)})}},he={userAgent:"Bits and Bytes v1.0"},de={settings:{file:{save:{owner:"ancientlanguage",repo:"bits-and-bytes-settings",branch:"main",path:"settings.json"},extra:{loading:!1}},octokitDeps:he,octokit:ue(he)},dataSources:[]},Oe=function(e,t){switch(t.tag){case"updateSettings":return Object(F.a)(Object(F.a)({},e),{},{settings:be(e.settings,t.settingsAction)});case"noop":return e}},ge=function(){var e=Object(v.useReducer)(Oe,de),t=Object(s.a)(e,2),r=t[0],a=t[1];return Object(M.jsxs)(l.a,{theme:le,children:[Object(M.jsx)(o.a,{}),Object(M.jsx)(se.a,{basename:"/bits-and-bytes",children:Object(M.jsx)(ie,{appState:r,dispatch:a})})]})};n.a.render(Object(M.jsx)(ge,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.e243aee4.chunk.js.map